webpackJsonp([112],{goJg:function(t,e){},mf9n:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"recommendlist",data:function(){return{contentList:[],id:"",noContent:!1,banner:"",bannerLink:"",visible:!1,contentList2:[],showButton:!1,link:"",curPage:"1",allPage:"",showLoadMore:!1,showNotMore:!1}},beforeMount:function(){document.title=this.$route.meta.title},mounted:function(){this.getInfo(),this.getBanner()},methods:{getInfo:function(){var t=this;t.$axios({url:t.$store.state.api.findList+"&search[type]=talent&order[created_at]=desc",method:"get",params:{page:t.curPage,page_count:5}}).then(function(e){var i=e.data;console.log(i,"r"),0==i.error&&(t.contentList=t.contentList.concat(i.data.rows),t.allPage=i.data.pagination.page_total,t.curPage>=t.allPage?(t.showLoadMore=!1,t.showNotMore=!0):(t.showLoadMore=!0,t.showNotMore=!1),0==t.contentList.length&&(t.noContent=!0))})},getBanner:function(){var t=this;t.$axios({url:t.$store.state.api.bannerList,method:"get",params:{type:"talent"}}).then(function(e){var i=e.data;console.log(i,"banner"),0==i.error&&(t.banner=i.data.image_url,t.bannerLink=i.data.link)})},showImage:function(t,e){this.visible=!0,this.contentList2=this.contentList[e],this.contentList[e].is_selected=1,this.showButton=!0,1==this.contentList[e].is_selected&&(this.link=this.contentList[e].goods_id),0==this.visible&&(this.showButton=!1)},backgroundimg:function(){this.visible=!1,this.showButton=!1},toGoodsdetail:function(){this.$router.push({path:"/goodsdetail",query:{id:this.link}})},toLink:function(t){this.$router.push({path:"/goodsdetail",query:{id:t.goods_id}})},toBannerLink:function(){""!=this.bannerLink&&(window.location.href=this.bannerLink)},loadMore:function(){var t=this;t.showNotMore=!1,setTimeout(function(){t.curPage<t.allPage&&(t.curPage++,t.getInfo())},500)},notMore:function(){this.$toast("没有啦，大兄弟！")}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend-list"},[i("div",{staticClass:"banner",on:{click:t.toBannerLink}},[i("img",{attrs:{src:t.banner}})]),t._v(" "),t._l(t.contentList,function(e,o){return 0!=t.contentList.length?i("div",{key:"index1",staticClass:"recommend"},[i("div",{staticClass:"daren-info"},[i("img",{attrs:{src:e.head_pic_url}}),t._v(" "),i("span",[t._v(t._s(e.nickname))])]),t._v(" "),i("p",{staticClass:"reason",domProps:{innerHTML:t._s(e.material_info.material_content)}}),t._v(" "),i("div",{class:{"recommend-img":4!=e.material_info.material_images.length&&1!=e.material_info.material_images.length,oneimg:1==e.material_info.material_images.length,fourimg:4==e.material_info.material_images.length},attrs:{id:"recommendImg"}},t._l(e.material_info.material_images,function(e,n){return i("div",{key:"index2",on:{click:function(i){t.showImage(e,o)}}},[i("img",{class:{"width-img":e.height>=e.width,"height-img":e.width>=e.height,"":e.width==e.height},attrs:{src:e.image_url_origin}})])})),t._v(" "),i("div",{staticClass:"goods-info",on:{click:function(i){t.toLink(e)}}},[i("img",{attrs:{src:e.goods_info.goods_image}}),t._v(" "),i("div",[i("p",[t._v(t._s(e.goods_info.goods_name))]),t._v(" "),i("p",[t._v(t._s(e.goods_info.goods_remark))])])]),t._v(" "),t.visible?i("div",{staticStyle:{height:"100%"},on:{touchmove:function(t){t.preventDefault()}}},[i("mt-popup",{staticClass:"shuoming1",staticStyle:{width:"100%",height:"100%"},attrs:{"popup-transition":"popup-fade",position:"center"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("mt-swipe",{attrs:{auto:0}},t._l(t.contentList2.material_info.material_images,function(e,o){return i("mt-swipe-item",{key:"index",staticStyle:{"margin-right":"0.26rem"}},[i("div",{staticStyle:{position:"relative",width:"100%",height:"100%",background:"#000"},on:{click:t.backgroundimg}},[i("img",{staticStyle:{width:"100%",position:"absolute",top:"0rem",bottom:"0rem",left:"0rem",right:"0rem",margin:"auto"},attrs:{src:e.image_url_origin}})])])}))],1)],1):t._e()]):t._e()}),t._v(" "),1==t.showButton?i("div",{staticClass:"buttonGo",on:{click:t.toGoodsdetail}},[t._v("去看看>>")]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.noContent,expression:"noContent"}],staticClass:"no-content"},[t._v("\n            暂时没有内容，敬请期待...\n        ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoadMore,expression:"showLoadMore"}],staticClass:"load-more",on:{click:t.loadMore}},[t._v("点击加载...")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showNotMore,expression:"showNotMore"}],staticClass:"not-more",on:{click:t.notMore}},[t._v("已经到底了哦")])],2)},staticRenderFns:[]};var a=i("VU/8")(o,n,!1,function(t){i("goJg")},"data-v-066aceb8",null);e.default=a.exports}});