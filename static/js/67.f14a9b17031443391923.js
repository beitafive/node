webpackJsonp([67],{n8Lq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"talkabout",data:function(){return{id:"",content:"",contentList:"",firstText:"",alignType:"",bannerLink:"",shareId:"",shareTitle:"",shareBiaoti:"",shareImg:"",shareLink:""}},beforeMount:function(){this.id=this.$route.query.id},mounted:function(){this.getInfo(),this.shareInfo(),this.shareItem()},methods:{getInfo:function(){var t=this;t.$axios({url:t.$store.state.api.findDetail,method:"get",params:{id:t.id}}).then(function(e){var i=e.data;console.log(i,"r"),0==i.error&&(t.content=i.data,t.contentList=i.data.food_content,t.bannerLink=i.data.image_link,"text"==i.data.food_content[0].type&&(t.firstText=i.data.food_content[0].list_text[0].html_content,t.alignType=i.data.food_content[0].list_text[0].text_align,i.data.food_content[0].list_text.splice(0,1)))})},shareInfo:function(){var t=this;t.$axios({url:t.$store.state.api.findShare,method:"get",params:{share_type:"detail",find_type:"food",id:t.id}}).then(function(e){var i=e.data;t.shareTitle=i.data.title,t.shareBiaoti=i.data.description,t.shareImg=i.data.image,t.shareLink=i.data.link})},shareItem:function(){var t=this;wx.ready(function(){wx.onMenuShareTimeline({title:t.shareTitle,link:t.shareLink,imgUrl:t.shareImg}),wx.onMenuShareAppMessage({title:t.shareTitle,desc:t.shareBiaoti,link:t.shareLink,imgUrl:t.shareImg,type:"link"})})},toGoodsDetail:function(t){this.$router.push({path:"goodsdetail",query:{id:t.goods_id}})},toImgLink:function(t,e){""!=t.image_link&&("-1"==t.image_link.indexOf("/")?this.$router.push({path:"/goodsdetail",query:{id:t.image_link}}):this.$router.push(t.image_link))}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"talkabout"},[i("div",{staticClass:"text-first"},[""!=t.firstText?i("div",[i("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),i("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),i("p",{class:{"first-left":1==t.alignType,"first-center":2==t.alignType,"first-right":3==t.alignType},domProps:{innerHTML:t._s(t.firstText)}}),t._v(" "),i("i",{staticClass:"iconfont"},[t._v("")])]):t._e()]),t._v(" "),t._l(t.contentList,function(e){return i("div",{staticClass:"topic-detail"},[t._l(e.list_img,function(n,a){return"img"==e.type?i("div",{key:"index",staticClass:"image"},[i("img",{directives:[{name:"show",rawName:"v-show",value:0!=e.list_img.length,expression:"item.list_img.length != 0"}],attrs:{src:n.image_url},on:{click:function(e){t.toImgLink(n,a)}}})]):t._e()}),t._v(" "),t._l(e.list_text,function(n){return"text"==e.type?i("div",{class:{"text-left":1==n.text_align,"text-center":2==n.text_align,"text-right":3==n.text_align},domProps:{innerHTML:t._s(n.html_content)}}):t._e()}),t._v(" "),t._l(e.list_goods,function(n){return"goods"==e.type?i("div",{staticClass:"goods",on:{click:function(e){t.toGoodsDetail(n)}}},[i("img",{attrs:{src:n.image}}),t._v(" "),i("p",[t._v(t._s(n.goods_name))]),t._v(" "),i("p",[t._v("￥"+t._s(n.price))])]):t._e()})],2)})],2)},staticRenderFns:[]};var s=i("VU/8")(n,a,!1,function(t){i("oES+")},"data-v-5d219c09",null);e.default=s.exports},"oES+":function(t,e){}});