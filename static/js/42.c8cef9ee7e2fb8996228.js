webpackJsonp([42],{"1mjw":function(e,t){},EUjk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"invoicedetail",data:function(){return{detail:"",email:"",dialogPopup:!1,successPopup:!1,cancelPopup:!1,orderId:""}},created:function(){this.orderId=this.$route.query.order_id},beforeMount:function(){document.title=this.$route.meta.title},mounted:function(){this.getInfo()},methods:{getInfo:function(){var e=this;e.$axios({method:"get",url:e.$store.state.api.invoice.detail,params:{user_id:localStorage.user_id,order_id:e.orderId}}).then(function(t){var i=t.data;0==i.error&&(e.detail=i.data)})},toastOne:function(){this.$toast("正在处理中，请耐心等待")},sendEmail:function(){var e=this;/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e.email)&&e.$axios({method:"get",url:e.$store.state.api.invoice.send_email,params:{user_id:localStorage.user_id,order_id:e.orderId,email:e.email}}).then(function(t){var i=t.data;0==i.error&&(e.dialogPopup=!1),i.error})},toDownload:function(){1==this.detail.download&&(window.location.href=this.detail.download_url,console.log(this.detail.download_url,"download"))}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"outer"},[i("div",{staticClass:"content"},[i("h4",[e._v("发票状态："),i("span",[e._v(e._s(e.detail.invoice_status_name))])]),e._v(" "),i("div",[i("img",{attrs:{src:"https://wd-image.cdn.hzanchu.com/48a345f5852fb92bc12684c041b7bdf3?thumbnail=300"}}),e._v(" "),i("p",[e._v("订单编号："+e._s(e.detail.order_sn))]),e._v(" "),i("p",[e._v("支付时间："+e._s(e.detail.create_time))]),e._v(" "),i("p",[e._v("发票类型："+e._s(e.detail.invoice_type_name))]),e._v(" "),i("p",[e._v("发票抬头："+e._s(e.detail.title))]),e._v(" "),i("p",[e._v("发票内容："+e._s(e.detail.invoice_detail))])])]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:10==e.detail.invoice_status,expression:"detail.invoice_status == 10"}],staticClass:"btn-one",on:{click:function(t){e.dialogPopup=!0}}},[e._v("发送至邮箱")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:10==e.detail.invoice_status,expression:"detail.invoice_status == 10"}],staticClass:"btn-two",on:{click:function(t){e.toDownload()}}},[e._v("下载发票")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:15==e.detail.invoice_status,expression:"detail.invoice_status == 15"}],staticClass:"btn-three",on:{click:function(t){e.cancelPopup=!0}}},[e._v("发票作废说明")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:1==e.detail.invoice_status,expression:"detail.invoice_status == 1"}],staticClass:"btn-three",on:{click:function(t){e.toastOne()}}},[e._v("待处理")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogPopup,expression:"dialogPopup"}],staticClass:"dialog"},[i("div",{staticClass:"dialog-content"},[i("p",[e._v("发送至邮箱")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"请填写需要发送的邮箱"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),i("div",[i("span",{on:{click:function(t){e.dialogPopup=!1}}},[e._v("取消")]),i("span",{on:{click:function(t){e.sendEmail()}}},[e._v("发送")])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.successPopup,expression:"successPopup"}],staticClass:"success"},[i("div",[i("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),i("p",[e._v("发送成功")]),e._v(" "),i("button",{on:{click:function(t){e.successPopup=!1}}},[e._v("关闭")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cancelPopup,expression:"cancelPopup"}],staticClass:"cancel"},[i("div",[i("p",[e._v("发票作废说明")]),e._v(" "),i("p",[e._v("1.订单有成功的售后申请且存在尚未完成的售后申 请，此时之前的发票已作废，售后申请完成后，若存在未退款的商品，将会开取新的发票。")]),e._v(" "),i("p",[e._v("2.若订单是已关闭状态，所有商品已退款成功，此 时之前开取的发票已作废，并不在提供新的发票。")]),e._v(" "),i("button",{on:{click:function(t){e.cancelPopup=!1}}},[e._v("我知道了")])])])])},staticRenderFns:[]};var s=i("VU/8")(a,o,!1,function(e){i("1mjw")},"data-v-b1eb3046",null);t.default=s.exports}});