webpackJsonp([89],{TQCx:function(t,e){},dchO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"muinvoice",data:function(){return{list:[],allLoaded:"",curPage:"1",totalPage:"",pageCount:"",loading:"",loadBottom:"",notMore:!1}},beforeMount:function(){document.title=this.$route.meta.title},mounted:function(){this.getList()},methods:{getList:function(){var t=this;t.$axios({method:"get",url:t.$store.state.api.invoice.get_list,params:{user_id:localStorage.user_id,page:t.curPage,page_count:5}}).then(function(e){var i=e.data;0==i.error&&(t.list=t.list.concat(i.data.rows),t.totalPage=i.data.pagination.page_total,t.curPage==t.totalPage&&(t.allLoaded=!0))})},loadMore:function(){var t=this;if(t.curPage>=t.totalPage)return t.loadBottom=!1,void(t.notMore=!0);t.loadBottom=!0,t.notMore=!1,t.loading=!0,setTimeout(function(){t.loading=!1,t.curPage<t.totalPage&&(t.curPage++,t.getList())},2e3)},toBuKai:function(t){this.$router.push({path:"/writeinvoice",query:{order_id:t.order_id}})},toDetail:function(t){this.$router.push({path:"/invoicedetail",query:{order_id:t.order_id}})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"outer"},[t._m(0),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-distance":"700","infinite-scroll-disabled":"loading"}},[t._l(t.list,function(e){return i("div",{staticClass:"list"},[i("div",{staticClass:"title"},[i("div",[i("p",[t._v("订单号:"+t._s(e.order_sn))]),t._v(" "),i("p",[t._v("发票类型:"+t._s(e.invoice_type_name))])]),t._v(" "),i("div",[t._v("发票状态："+t._s(e.invoice_status_name))])]),t._v(" "),i("div",{staticClass:"goods-images"},[i("div",{style:{width:2*e.goods.length+.26+"rem"}},t._l(e.goods,function(t){return i("div",[i("img",{attrs:{src:t.goods_thumbnail_250,width:"100%",height:"100%"}})])}))]),t._v(" "),i("div",{staticClass:"time"},[i("span",[t._v("下单时间："+t._s(e.create_at))]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:0==e.invoice_status,expression:"item.invoice_status == 0"}],staticClass:"bukai",on:{click:function(i){t.toBuKai(e)}}},[t._v("补开发票")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:0!=e.invoice_status,expression:"item.invoice_status != 0"}],staticClass:"detail",on:{click:function(i){t.toDetail(e)}}},[t._v("发票详情")])])])}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loadBottom,expression:"loadBottom"}],staticClass:"load-bottom"},[i("mt-spinner",{staticClass:"spinner",attrs:{type:"fading-circle"}}),t._v(" "),i("span",[t._v("加载中...")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.notMore,expression:"notMore"}],staticClass:"not-more"},[t._v("\n                没有了老铁~\n            ")])],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top"},[i("p",[t._v("温馨提示：")]),t._v(" "),i("p",[t._v("开发票规则：")]),t._v(" "),i("p",[t._v("1.增值税电子普通发票订单交易成功后1年内可补开发票；")]),t._v(" "),i("p",[t._v("2.增值税专用发票无法在线上开取，请联系客服。")]),t._v(" "),i("p",[t._v("注：订单实付价格为0时，无法开取发票。")])])}]};var s=i("VU/8")(a,o,!1,function(t){i("TQCx")},"data-v-3a11db88",null);e.default=s.exports}});