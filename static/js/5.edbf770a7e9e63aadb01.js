webpackJsonp([5],{"+EwC":function(t,e){},SIxZ:function(t,e){},UXYh:function(t,e){},XUdM:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"topBanner",props:["adObj"],mounted:function(){console.log("error!!!"),clearInterval(this.$parent.interval),this.$parent.interval=setInterval(this.$parent.scrollText,30)},destroyed:function(){console.log("destroyed"),this.$parent.isText&&clearInterval(this.$parent.interval)}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scroll-text",attrs:{id:"sObj"}},[e("span",[this._v(this._s(this.adObj.value))])])},staticRenderFns:[]};var n={name:"searchClass",data:function(){return{getCity:"杭州市",address:"",bGetaddress:"false",defaultCity:"",isDefault:"",addressInfo:{province:"",city:"",district:""},scrollTop:0,isRem:"",isText:!1,isImg:!1,interval:""}},beforeMount:function(){document.title=this.$route.meta.title},components:{topBanner:s("VU/8")(o,i,!1,function(t){s("+EwC")},null,null).exports},props:["adObj"],mounted:function(){document.title=this.$route.meta.title,this.getCity=localStorage.getCity,void 0==localStorage.location&&this.getDefaultAddress()},destroyed:function(){window.removeEventListener("scroll",this.getScroll,!1),this.isText&&clearInterval(this.interval)},methods:{scrollText:function(){var t=document.getElementById("sObj"),e=t.scrollLeft++;t.scrollLeft==e&&(t.innerHTML+=t.innerHTML),t.scrollLeft>=t.firstChild.offsetWidth&&(t.scrollLeft=0)},getAd:function(){4==this.adObj.type?("/index"==this.$route.path&&(clearInterval(this.interval),this.interval=setInterval(this.scrollText,30),window.addEventListener("scroll",this.getScroll,!1)),this.isText=!0,this.isRem="0.6rem"):(this.isImg=!0,this.isRem="1rem")},getScroll:function(){if("/index"!=this.$route.path)return null;this.scrollTop=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,0==this.scrollTop?this.isText&&(clearInterval(this.interval),this.interval=setInterval(this.scrollText,30)):this.isText&&clearInterval(this.interval)},getDefaultAddress:function(){},getWxAddress:function(){var t=this;wx.ready(function(){wx.getLocation({type:"wgs84",success:function(e){t.address=e,t.bGetaddress=!t.bGetaddress;e.latitude,e.longitude,e.speed,e.accuracy}})})},getAddress:function(){var t=this;t.$axios({method:"get",url:"https://restapi.amap.com/v3/geocode/regeo",params:{key:"fefae69778fa6e7bf5c5f2e0247d00ae",location:t.address.longitude+","+t.address.latitude}}).then(function(e){""!=e.data.regeocode.addressComponent.city?(t.getCity=e.data.regeocode.addressComponent.city,t.$store.state.comfrim_city=e.data.regeocode.addressComponent.city):(t.getCity=e.data.regeocode.addressComponent.province||"杭州市",t.$store.state.comfrim_city=e.data.regeocode.addressComponent.province||"杭州市"),t.addressInfo=e.data.regeocode.addressComponent,t.sendLocation()})},sendLocation:function(){this.$axios({method:"get",url:this.$store.state.api.address.send_location,params:{province_name:this.addressInfo.province,city_name:this.addressInfo.city,district_name:this.addressInfo.district}}).then(function(t){})}},watch:{bGetaddress:"getAddress"}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchClass",style:{marginBottom:"/index"==t.$route.path&&0==t.scrollTop&&(t.isText||t.isImg)?".84rem":"0"}},["/index"==t.$route.path&&0==t.scrollTop&&t.isImg?s("a",{attrs:{href:t.adObj.link}},[s("img",{attrs:{src:t.adObj.image}})]):t._e(),t._v(" "),t.isText&&"/index"==t.$route.path&&0==t.scrollTop?s("top-banner",{attrs:{adObj:t.adObj}}):t._e(),t._v(" "),s("div",{staticClass:"content-ios",style:{top:"/index"==t.$route.path&&0==t.scrollTop?t.isRem:"0"}},[s("router-link",{staticClass:"location",attrs:{to:"/location",tag:"div"}},[s("span",[t._v(t._s(t.getCity))]),t._v(" "),s("i",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),s("router-link",{staticStyle:{"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},attrs:{to:"/search"}},[s("div",{staticClass:"to-search"},[s("span",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v("追寻美味")])])])],1)],1)},staticRenderFns:[]};var l=s("VU/8")(n,a,!1,function(t){s("ptt1")},"data-v-7072e543",null).exports,r=s("mvHQ"),c=s.n(r),d={data:function(){return{subitemsExpanded:!1,show_menu:!0,router:this.$route.path,list:[],allPage:"",iscroll:"",bSending:!1}},props:{sortMenu1:{type:Array,default:[]}},watch:{$route:function(){"/index"==window.location.pathname&&this.iscroll.scrollTo(0,0,500)}},mounted:function(){var t=document.getElementById("wrapper");this.iscroll=new IScroll(t,{scrollX:!0,scrollY:!1,preventDefault:!1,tap:!0,disableMouse:!0,disablePointer:!0,momentum:!1}),document.body.style.position="relative",t.addEventListener("touchmove",function(t){t.preventDefault()},!1)},destroyed:function(){this.iscroll.destroy(),this.iscroll=null},methods:{clearMe:function(t){for(var e=0,s=this.sortMenu1.length;e<s;e++)this.sortMenu1[e].select=0;this.show_menu=!0,sessionStorage.item_index="/index"===t?-2:-1,this.iscrollGo(),this.$router.push(t)},addEvent:function(){this.$store.dispatch("clearList");for(var t=window.location.pathname,e=0,s=this.sortMenu1.length;e<s;e++)this.sortMenu1[e].select=0;if("/classifygoods"==t){var o=JSON.parse(sessionStorage.item);this.sortMenu1[sessionStorage.item_index].select=1,this.gorouters(o,sessionStorage.item_index,0)}},gorouters:function(t,e,s){if(!this.bSending){this.bSending=!0;var o=this;o.$store.state.goodsNum=[],o.goodsId=o.$route.query.id,o.$store.state.classifyId=t.id,o.$store.state.classifyPage=1,o.$axios({method:"get",url:o.$store.state.api.classifyGoods.classify,params:{cat_id:t.id,page:o.$store.state.classifyPage,pagecount:10}}).then(function(i){if(0==i.data.error){if(o.list=i.data.data.goods_arr,o.allPage=i.data.data.count,o.$store.state.orderPage=Math.ceil(o.allPage/10),o.$store.state.catBanner=i.data.data.cat_info.image_url,o.$store.state.catLink=i.data.data.cat_info.link,sessionStorage.item_index=e,sessionStorage.item=c()(t),o.$store.dispatch("setgoodslist",o.list),document.body.style.position="relative",document.body.style.overflow="scroll",o.show_menu=!0,o.subitemsExpanded=!1,1==s){for(var n=0,a=o.sortMenu1.length;n<a;n++)o.sortMenu1[n].select=0;t.select=1}o.$router.push("/classifygoods"),o.iscrollGo(+e+3),o.bSending=!1}1==i.data.error&&(o.list=[])}).catch(function(t){})}},displayNone:function(t){document.body.style.position="relative",this.subitemsExpanded=!1,this.show_menu=!0},MenuNav:function(){this.subitemsExpanded=!this.subitemsExpanded,this.show_menu=!this.show_menu,1==this.show_menu?(document.body.style.position="relative",document.body.style.overflow="scroll"):(document.body.style.height=document.documentElement.clientHeight+"px",document.body.style.width=document.documentElement.clientWidth+"px",document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="0px")},getNavList:function(){this.iscroll.refresh(),this.addEvent()},iscrollGo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.getElementById("ul"),s=t||+sessionStorage.item_index+3,o=e.children[s],i=o.offsetLeft,n=o.clientWidth,a=document.getElementById("wrapper").clientWidth,l=i+n/2,r=this.iscroll.maxScrollX,c=a/2-r;if(l<a/2)this.iscroll.scrollTo(0,0,500);else if(l>c)this.iscroll.scrollTo(r,0,500);else{var d=l-a/2;this.iscroll.scrollTo(-d,0,500)}}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"classifynav"},[s("div",{staticClass:"all",on:{click:t.MenuNav}},[s("i",{class:[t.subitemsExpanded?"iconfont rotates":"iconfont rotates1"]},[t._v("")])]),t._v(" "),s("div",{staticClass:"allSort"},[s("div",{staticClass:"sortMenu clearfix",attrs:{id:"wrapper"}},[s("ul",{staticClass:"sortMenu-ul",style:{width:1.35*(t.sortMenu1.length+3)+3.6+"rem"},attrs:{id:"ul"}},[s("li",{class:["/index"==t.$route.path?"borderClass cell":"cell"],on:{click:function(e){t.clearMe("/index")}}},[t._v("\n\t\t\t\t\t推荐\n\t\t\t\t")]),t._v(" "),s("li",{class:["/singlesite"==t.$route.path?"borderClass cell":"cell"],on:{click:function(e){t.clearMe("/singlesite")}}},[t._v("\n\t\t\t\t\t特色中国\n\t\t\t\t")]),t._v(" "),s("li",{class:["/classifynew"==t.$route.path?"borderClass cell":"cell"],on:{click:function(e){t.clearMe("/classifynew")}}},[t._v("新品")]),t._v(" "),t._l(t.sortMenu1,function(e,o){return s("li",{key:"index",class:["1"==e.select&&"/classifygoods"==t.$route.path?"borderClass cell":"cell"],on:{click:function(s){t.gorouters(e,o,1)}}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})],2),t._v(" "),t.show_menu?t._e():s("div",{staticClass:"allClassify"},[t._v("全部分类")])])]),t._v(" "),t.show_menu?t._e():s("div",{staticClass:"pull-down"},[s("ul",{staticClass:"pull-down-sort"},[s("li",{class:["/index"==t.$route.path?"borderClass cell1":"cell1"],on:{click:function(e){t.clearMe("/index")}}},[t._v("\n\t\t\t\t推荐\n\t\t\t")]),t._v(" "),s("li",{class:["/singlesite"==t.$route.path?"borderClass cell1":"cell1"],on:{click:function(e){t.clearMe("/singlesite")}}},[t._v("\n\t\t\t\t特色中国\n\t\t\t")]),t._v(" "),s("li",{class:["/classifynew"==t.$route.path?"borderClass cell1":"cell1"],on:{click:function(e){t.clearMe("/classifynew")}}},[t._v("新品")]),t._v(" "),t._l(t.sortMenu1,function(e,o){return s("li",{key:"indexs",class:["1"==e.select&&"/classifygoods"==t.$route.path?"borderClass cell1":"cell1"],on:{click:function(s){t.gorouters(e,o,1)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])})],2),t._v(" "),s("div",{staticClass:"shadow",style:{top:"3rem"},on:{click:t.displayNone,touchmove:function(t){t.preventDefault(),t.stopPropagation()}}})])])},staticRenderFns:[]};var h={name:"index",components:{searchClass:l,classifynav:s("VU/8")(d,u,!1,function(t){s("UXYh")},"data-v-953d0412",null).exports},data:function(){return{allInfo:{banner2:[{}],category_level1:[]}}},mounted:function(){this.getAll()},methods:{getAll:function(){}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index"},[e("searchClass",{ref:"search",attrs:{adObj:this.allInfo.banner2[0]}}),this._v(" "),e("classifynav",{ref:"classNav",attrs:{sortMenu1:this.allInfo.category_level1}}),this._v(" "),e("router-view",{ref:"index",attrs:{req:this.allInfo}})],1)},staticRenderFns:[]};var v=s("VU/8")(h,f,!1,function(t){s("SIxZ")},"data-v-1eedea06",null);e.default=v.exports},mvHQ:function(t,e,s){t.exports={default:s("qkKv"),__esModule:!0}},ptt1:function(t,e){},qkKv:function(t,e,s){var o=s("FeBl"),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}});