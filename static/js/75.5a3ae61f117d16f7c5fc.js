webpackJsonp([75],{"4gPa":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("NHPe"),s={name:"payzfb",data:function(){return{orderId:"",orderSn:"",payType:"",is_special:""}},created:function(){this.orderId=this.$route.query.orderId,this.orderSn=this.$route.query.orderSn,this.payType=this.$route.query.pay_type},beforeMount:function(){document.title=this.$route.meta.title},mounted:function(){if(!Object(r.c)()){if(!this.orderId)return;this.payZfb()}},methods:{payZfb:function(){window.location.href=window.location.origin+"/api.php?s=user/alipay/ali_pay&order_id="+this.orderId},getOrderInfo:function(){var e=this;this.$axios.get(this.$store.state.api.order.get_order_info,{params:{order_sn:this.orderSn}}).then(function(t){var i=t.data;if(e.is_special=i.data.is_special,1==i.error)return e.$toast({message:i.error_msg,position:"top"}),!1;0==i.data.order_status?e.$toast({message:"未付款",position:"top"}):(e.$router.push({path:"/paystatus",query:{order_sn:e.orderSn}}),"商品明细"==sessionStorage.getItem("invoiceInfo")&&e.sendInvoice())})},sendInvoice:function(){var e="",t="";"个人"==sessionStorage.getItem("is_enterprice")&&(t=1,e=sessionStorage.getItem("nameValue")),"单位"==sessionStorage.getItem("is_enterprice")&&(t=4,e=sessionStorage.getItem("firmName")),this.$axios({method:"get",url:this.$store.state.api.invoice.apply_title,params:{user_id:localStorage.user_id,order_id:this.orderId,title:e,is_enterprice:t,tax_num:sessionStorage.getItem("number")}}).then(function(e){e.data})}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"payzfb"},[e._m(0),e._v(" "),e._m(1),e._v(" "),i("div",{staticClass:"payzfb-button"},[i("i",[e._v("支付完成后")]),e._v(" "),i("em",{on:{click:e.getOrderInfo}},[e._v("刷新")]),e._v(" "),i("i",[e._v("查看支付结果")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"payzfb-header"},[t("p",[t("i",{staticClass:"iconfont icon-xuanze"}),this._v(" "),t("span",[this._v("订单提交成功")])]),this._v(" "),t("p",[this._v("因微信不支持支付宝付款，请您按以下步骤完成支付")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"payzfb-center"},[t("p",[this._v("1. 点击右上角的菜单（···）")]),this._v(" "),t("p",[this._v("2. 苹果系统选择“在Safari中打开”，安卓系统选择“在浏览器中打开”")]),this._v(" "),t("p",[this._v("3. 外部浏览器完成支付后返回此页面，刷新查看订单状态")])])}]};var o=i("VU/8")(s,a,!1,function(e){i("prd6")},"data-v-4a5156ea",null);t.default=o.exports},prd6:function(e,t){}});