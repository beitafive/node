webpackJsonp([87],{"9IfQ":function(s,t){},YY8N:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("Au9i"),a={name:"mineAddress",data:function(){return{noAddress:!1,visible:!1,setDefault:!1,isDefault:!1,address_id:"",addressList:[]}},created:function(){this.address_id=this.$route.query.address_id},beforeMount:function(){document.title=this.$route.meta.title},mounted:function(){this.getAddressList()},methods:{setting:function(s,t){for(var e=this,i=0,a=e.addressList.length;i<a;i++)e.addressList[i].is_default=0;s.is_default=1,this.$axios.post(e.$api.address.set_default,{address_id:s.address_id}).then(function(s){var t=s.data;0==t.code?e.$toast({message:"设置成功",position:"center",duration:700}):e.$toast({message:t.msg,position:"center",duration:700})}).catch(function(s){})},delate:function(s,t){var e=this;i.MessageBox.confirm("确定删除该收货地址吗?").then(function(t){var i=e;e.$axios.get(e.$api.address.del,{address_id:s.address_id}).then(function(s){var t=s.data;0==t.code?(i.$toast({message:"删除成功",position:"center",duration:700}),i.getAddressList(),0===i.addressList.length&&(i.noAddress=!0)):i.$toast({message:t.error_msg,position:"center",duration:700})}).catch(function(s){})})},getAddressList:function(){var s=this;this.$axios.get(s.$api.address.list).then(function(t){var e=t.data;0==e.code&&(s.addressList=e.data.rows),null===e.data?s.noAddress=!0:s.noAddress=!1}).catch(function(s){})}}},d={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"address"},[e("p",{directives:[{name:"show",rawName:"v-show",value:s.noAddress,expression:"noAddress"}],staticClass:"no-address"},[s._v("请添加收货地址!")]),s._v(" "),e("div",{staticClass:"content"},s._l(s.addressList,function(t,i){return e("div",{staticClass:"address-list"},[e("router-link",{staticStyle:{"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},attrs:{to:{path:"/addressedit",query:{address_id:t.address_id,index:1,skip:0}}}},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"user-info-top"},[e("span",{staticClass:"user-name"},[s._v(s._s(t.consignee))]),s._v(" "),1==t.is_default?e("i",{staticClass:"iconfont"},[s._v("")]):s._e(),s._v(" "),e("span",{staticClass:"user-phone"},[s._v(s._s(t.mobile))])]),s._v(" "),e("div",{staticClass:"user-info-bottom"},[e("p",[s._v(s._s(t.province_name+t.city_name+t.district_name+t.address))])])])]),s._v(" "),e("div",{staticClass:"handle"},[e("p",{staticClass:"set-default"},[1==t.is_default?e("i",{staticClass:"iconfont",staticStyle:{color:"#cc3737"},on:{click:function(e){s.setting(t,i)}}},[s._v("")]):s._e(),s._v(" "),0==t.is_default?e("i",{staticClass:"iconfont",on:{click:function(e){s.setting(t,i)}}},[s._v("")]):s._e(),s._v(" "),e("span",[s._v("设为默认地址")])]),s._v(" "),e("p",{staticClass:"delate"},[e("i",{staticClass:"iconfont",on:{click:function(e){s.delate(t,i)}}},[s._v("")])])])],1)})),s._v(" "),e("router-link",{staticStyle:{"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},attrs:{to:{path:"addressedit",query:{index:1,skip:1}}}},[e("mt-button",{staticClass:"add-new"},[s._v("新增地址")])],1)],1)},staticRenderFns:[]};var n=e("VU/8")(a,d,!1,function(s){e("9IfQ")},"data-v-3a644266",null);t.default=n.exports}});